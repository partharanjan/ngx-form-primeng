<div class="{{layoutStyle}}">

    <!--From Configuration-->
    <ng-container [formGroup]="form">

        <ng-container *ngFor="let obj of _forms;trackBy:trackByControlName">

            <div class="{{obj.layoutStyle}}">

                <ng-container [ngSwitch]="obj.type">

                    <!--Placeholder control-->
                    <ng-container *ngSwitchCase="'placeholder'">
                        <ng-container *ngTemplateOutlet="placeholderTemplate;context:{control:obj}">
                        </ng-container>
                    </ng-container>

                    <!--Checkbox-->
                    <ng-container *ngSwitchCase="'checkbox'">
                        <!--Top Content-->
                        <ng-container *ngTemplateOutlet="topContentTemplate;context:{control:obj}">
                        </ng-container>
                        <!--Content-->
                        <div class="{{obj.property.containerStyle}}">
                            <p-checkbox [formControl]="form.controls[obj.controlName]" [label]="obj.label"
                                [binary]="true" [name]="obj.id" [inputId]="obj.id"
                                (onChange)="obj.property.onChange($event)">
                            </p-checkbox>
                        </div>
                        <!--Footer Content-->
                        <ng-container *ngTemplateOutlet="bottomContentTemplate;context:{control:obj}">
                        </ng-container>
                    </ng-container>

                    <!--Other control-->
                    <ng-container *ngSwitchDefault>

                        <ngx-form-control-layout [label]="obj.label" [form]="form" [control]="obj.controlName"
                            [helpText]="obj.property.helpText">

                            <!--right Content-->
                            <ng-container rightContent>
                                <!--Add Option-->
                                <ng-container *ngIf="obj.property.addOptionLabel">
                                    <a href="javascript:void(0)" class="add-option-label-link"
                                        (click)="obj.property.onAddOption()">{{obj.property.addOptionLabel}}</a>
                                </ng-container>

                                <!--Custom add option-->
                                <ng-container *ngIf="!obj.property.addOptionLabel">
                                    <ng-container *ngTemplateOutlet="topContentTemplate;context:{control:obj}">
                                    </ng-container>
                                </ng-container>

                            </ng-container>

                            <!--Content-->
                            <ng-container [ngSwitch]="obj.type">

                                <!--Textbox-->
                                <ng-container *ngSwitchCase="'text'">
                                    <input type="{{obj.property.type}}" class="{{obj.controlStyle}}"
                                        [formControlName]="obj.controlName" [name]="obj.id" [id]="obj.id"
                                        [placeholder]="obj.placeholder" (onChange)="obj.property.onChange($event)"
                                        (onBlur)="obj.property.onBlur($event)" (onFocus)="obj.property.onFocus($event)"
                                        autocomplete="off" [readonly]="obj.property.readonly" pInputText />
                                </ng-container>

                                <!--Numeric-->
                                <ng-container *ngSwitchCase="'number'">
                                    <p-inputNumber [formControlName]="obj.controlName" [mode]="obj.property.mode"
                                        [styleClass]="obj.controlStyle" [name]="obj.id" [inputId]="obj.id"
                                        (onBlur)="obj.property.onBlur($event)" (onFocus)="obj.property.onFocus($event)"
                                        (onInput)="obj.property.onChange($event)" [placeholder]="obj.placeholder"
                                        [currency]="obj.property.currency" [locale]="obj.property.locale"
                                        currencyDisplay="code" [useGrouping]="obj.property.grouping"
                                        [minFractionDigits]="obj.property.fraction"
                                        [maxFractionDigits]="obj.property.fraction" [min]="obj.property.min"
                                        [max]="obj.property.max" [suffix]="obj.property.suffix"
                                        [prefix]="obj.property.prefix">
                                    </p-inputNumber>
                                </ng-container>

                                <!--Dropdown-->
                                <ng-container *ngSwitchCase="'select'">
                                    <p-dropdown [styleClass]="obj.controlStyle" [formControlName]="obj.controlName"
                                        [options]="obj.property.options" [placeholder]="obj.placeholder"
                                        [filter]="obj.property.filter" [autoDisplayFirst]="false"
                                        [showClear]="obj.property.showClear" (onChange)="obj.property.onChange($event)"
                                        [name]="obj.id" [inputId]="obj.id" (onBlur)="obj.property.onBlur($event)"
                                        (onFocus)="obj.property.onFocus($event)" [appendTo]="obj.property.appendTo">
                                    </p-dropdown>
                                </ng-container>

                                <!--multiselect-->
                                <ng-container *ngSwitchCase="'multiselect'">
                                    <p-multiSelect [styleClass]="obj.controlStyle" [formControlName]="obj.controlName"
                                        [options]="obj.property.options" [filter]="obj.property.filter"
                                        (onChange)="obj.property.onChange($event)" [name]="obj.id" [inputId]="obj.id"
                                        (onBlur)="obj.property.onBlur($event)" (onFocus)="obj.property.onFocus($event)"
                                        [appendTo]="obj.property.appendTo"
                                        [maxSelectedLabels]="obj.property.maxSelectedLabels">
                                    </p-multiSelect>
                                </ng-container>

                                <!--Date Picker-->
                                <ng-container *ngSwitchCase="'date'">
                                    <p-calendar [showIcon]="true" [formControlName]="obj.controlName"
                                        [styleClass]="obj.controlStyle" [name]="obj.id" [inputId]="obj.id"
                                        [defaultDate]="obj.property.defaultDate" [minDate]="obj.property.minDate"
                                        [maxDate]="obj.property.maxDate" [dateFormat]="obj.property.format"
                                        (onSelect)="obj.property.onChange($event)"
                                        (onInput)="obj.property.onChange($event)" (onBlur)="obj.property.onBlur($event)"
                                        (onFocus)="obj.property.onFocus($event)" [appendTo]="obj.property.appendTo"
                                        [dataType]="obj.property.type" [view]="obj.property.view">
                                    </p-calendar>
                                </ng-container>

                                <!--Time Picker-->
                                <ng-container *ngSwitchCase="'time'">
                                    <p-calendar [showIcon]="true" [formControlName]="obj.controlName"
                                        [styleClass]="obj.controlStyle" [name]="obj.id" [inputId]="obj.id"
                                        [hourFormat]="obj.property.timeFormat"
                                        (onSelect)="obj.property.onChange($event)"
                                        (onInput)="obj.property.onChange($event)" (onBlur)="obj.property.onBlur($event)"
                                        (onFocus)="obj.property.onFocus($event)" [appendTo]="obj.property.appendTo"
                                        [showTime]="true" [timeOnly]="true" [dataType]="obj.property.type"
                                        icon="pi pi-clock">
                                    </p-calendar>
                                </ng-container>

                                <!--Date & Time Picker-->
                                <ng-container *ngSwitchCase="'dateTime'">
                                    <p-calendar [showIcon]="true" [formControlName]="obj.controlName"
                                        [styleClass]="obj.controlStyle" [name]="obj.id" [inputId]="obj.id"
                                        [defaultDate]="obj.property.defaultDate" [minDate]="obj.property.minDate"
                                        [maxDate]="obj.property.maxDate" [dateFormat]="obj.property.format"
                                        (onSelect)="obj.property.onChange($event)"
                                        (onInput)="obj.property.onChange($event)" (onBlur)="obj.property.onBlur($event)"
                                        (onFocus)="obj.property.onFocus($event)" [appendTo]="obj.property.appendTo"
                                        [dataType]="obj.property.type" [view]="obj.property.view" [showTime]="true"
                                        [hourFormat]="obj.property.timeFormat">
                                    </p-calendar>
                                </ng-container>

                                <!--autocomplete-->
                                <ng-container *ngSwitchCase="'autocomplete'">
                                    <p-autoComplete [styleClass]="obj.controlStyle" [formControlName]="obj.controlName"
                                        [name]="obj.id" [inputId]="obj.id" [minLength]="obj.property.minLength"
                                        [forceSelection]="obj.property.forceSelection"
                                        [suggestions]="obj.property.suggestions"
                                        (completeMethod)="obj.property.onSearch($event)"
                                        (onSelect)="obj.property.onChange($event)"
                                        (onBlur)="obj.property.onBlur($event)" (onFocus)="obj.property.onFocus($event)"
                                        [appendTo]="obj.property.appendTo">
                                    </p-autoComplete>
                                </ng-container>

                                <!--Radio-->
                                <ng-container *ngSwitchCase="'radio'">
                                    <div class="{{obj.property.containerStyle}}">
                                        <ng-container
                                            *ngFor="let radioObj of obj.property.options;let radioIndex=index">
                                            <p-radioButton [styleClass]="obj.controlStyle"
                                                labelStyleClass="ngx-form-radio-item" [name]="obj.id"
                                                id="{{obj.id}}_{{radioIndex}}" [value]="radioObj.value"
                                                [label]="radioObj.label" [formControlName]="obj.controlName">
                                            </p-radioButton>
                                        </ng-container>
                                    </div>
                                </ng-container>

                                <!--Textarea-->
                                <ng-container *ngSwitchCase="'textarea'">
                                    <textarea class="{{obj.controlStyle}}" [formControlName]="obj.controlName"
                                        [name]="obj.id" [id]="obj.id" [placeholder]="obj.placeholder" autocomplete="off"
                                        (onChange)="obj.property.onChange($event)"
                                        (onBlur)="obj.property.onBlur($event)" (onFocus)="obj.property.onFocus($event)"
                                        [readonly]="obj.property.readonly" pInputText></textarea>
                                </ng-container>

                                <!--Editor-->
                                <ng-container *ngSwitchCase="'editor'">
                                    <p-editor [formControlName]="obj.controlName" [style]="obj.property.style"
                                        [styleClass]="obj.controlStyle" [placeholder]="obj.placeholder"
                                        [readonly]="obj.property.readonly" [modules]="obj.property.modules"
                                        (onTextChange)="obj.property.onChange($event)"
                                        (onInit)="obj.property.onInit($event)">
                                        <p-header>
                                            <span class="ql-formats">
                                                <button class="ql-bold" aria-label="Bold"></button>
                                                <button class="ql-italic" aria-label="Italic"></button>
                                                <button class="ql-underline" aria-label="Underline"></button>
                                                <button class="ql-link" aria-label="Link"></button>
                                            </span>
                                        </p-header>
                                    </p-editor>
                                </ng-container>

                                <!--Custom Control-->
                                <ng-container *ngSwitchCase="'custom'">
                                    <ng-container *ngTemplateOutlet="customControlTemplate;context:{control:obj}">
                                    </ng-container>
                                </ng-container>

                            </ng-container>

                            <!--Footer Content-->
                            <ng-container bottomContent>
                                <ng-container *ngTemplateOutlet="bottomContentTemplate;context:{control:obj}">
                                </ng-container>
                            </ng-container>

                        </ngx-form-control-layout>
                    </ng-container>

                </ng-container>

            </div>

        </ng-container>

    </ng-container>

    <!--Inside content of form-->
    <ng-content></ng-content>

</div>